# AI改善機能の実装計画

## 実装日時
2025年8月2日

## ブランチ
feature/develop/#q5_ai

## 実装概要
リバーシAIの戦略を改善し、より強力な対戦相手とする機能を実装します。

## 実装内容
1. 評価関数の実装
   - マスの重み付けによる評価
   - ゲーム進行度に応じた評価値の調整
   - 着手可能手数の考慮

2. マスの重み付けテーブルの実装
   ```
   30 -12  0  -1  -1   0 -12  30
   -12 -15 -3  -3  -3  -3 -15 -12
   0   -3  0  -1  -1   0  -3   0
   -1  -3  -1  -1  -1  -1  -3  -1
   -1  -3  -1  -1  -1  -1  -3  -1
   0   -3  0  -1  -1   0  -3   0
   -12 -15 -3  -3  -3  -3 -15 -12
   30 -12  0  -1  -1   0 -12  30
   ```
   - 角：最も価値が高い（30点）
   - 角の隣：最も危険（-12〜-15点）
   - 辺：比較的安定（0点）
   - その他：やや不利（-1〜-3点）

3. ゲーム進行度による戦略調整
   - 序盤（〜20手）：
     - マスの重みを重視（1.5倍）
     - 着手可能手数も考慮
   - 中盤（21〜40手）：
     - マスの重みは通常評価（1.0倍）
     - 石数差と着手可能手数のバランスを取る
   - 終盤（41手〜）：
     - マスの重みは軽視（0.5倍）
     - 石数差を重視

4. Minimax法の実装
   - Alpha-Beta枝刈りの導入
   - 探索深さの設定
     - 序盤・中盤：深さ3-4
     - 終盤：可能な限り深く

## 実装手順
1. 評価関数用のクラス作成
2. マスの重み付けテーブルの実装
3. 基本評価関数の実装
4. ゲーム進行度による評価値調整の実装
5. Minimax法の実装
6. Alpha-Beta枝刈りの追加
7. パフォーマンス調整

## テスト項目
- [ ] マスの重み付けが正しく機能しているか
- [ ] ゲーム進行度に応じて戦略が変化しているか
- [ ] 角を効果的に取れているか
- [ ] 危険なマス（角の隣）を避けられているか
- [ ] 終盤で適切に石数を稼げているか
- [ ] パフォーマンスは許容範囲か

## 期待される効果
- より戦略的な石の配置
- 終盤での確実な勝利
- ゲーム展開に応じた柔軟な戦略
